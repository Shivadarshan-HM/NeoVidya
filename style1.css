:root{
  --bg:#f6f8fb;
  --card:#ffffff;
  --muted:#9aa6c0;
  --accent:#1070f3;
  --accent-2:#0551d9;
  --accent-3:#ffd05a;
  --success:#2ad47a;
  --soft-shadow: 0 6px 18px rgba(16,40,85,0.06);
  --radius:14px;
  --text:#12233b;
}

/* dark */
.dark{
  --bg:#071025;
  --card:#0f1724;
  --muted:#98a3b3;
  --accent:#4ea6ff;
  --accent-2:#2a6cff;
  --soft-shadow: 0 8px 28px rgba(2,8,20,0.6);
  --text:#e6eefc;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
  background:var(--bg); color:var(--text); -webkit-font-smoothing:antialiased;
  transition: background .35s ease, color .35s ease;
}

/* layout */
.container{
  max-width:1180px; margin:24px auto; padding:20px; display:grid;
  grid-template-columns: 1fr 340px; gap:20px; align-items:start;
}

/* top header */
.top{grid-column:1/3; display:flex; justify-content:space-between; align-items:center; gap:12px}
.back-link{background:var(--card);padding:8px 12px;border-radius:12px;text-decoration:none;color:var(--text);box-shadow:var(--soft-shadow);font-weight:700}
.greeting{background:var(--card);padding:8px 14px;border-radius:20px;font-weight:600;color:var(--text);box-shadow:var(--soft-shadow)}

/* switch */
.switch{--w:54px;--h:30px; width:54px; height:30px; position:relative; display:inline-block; margin-right:12px}
.switch input{display:none}
.switch .slider{position:absolute; inset:0; border-radius:999px; background:#e9f3ff; padding:4px; display:flex; align-items:center}
.switch .slider::after{content:""; width:22px; height:22px; border-radius:50%; background:#fff; box-shadow:0 6px 12px rgba(16,40,85,0.12); transition:transform .28s cubic-bezier(.2,.9,.3,1)}
.switch input:checked + .slider{background:linear-gradient(90deg,var(--accent),var(--accent-2))}
.switch input:checked + .slider::after{transform:translateX(24px)}

/* progress card */
.progress-card{grid-column:1/3; background:linear-gradient(90deg,#0871f8 0%, #0b68d9 100%); color:#fff; padding:22px; border-radius:18px; box-shadow:var(--soft-shadow); display:flex; justify-content:space-between; align-items:center}
.progress-left{max-width:72%}
.progress-left h2{margin:0;font-size:18px;font-weight:700}
.progress-left .muted{margin:6px 0 12px;color:rgba(255,255,255,0.9)}
.bar{height:10px; background:rgba(255,255,255,0.18); border-radius:999px; overflow:hidden; margin-bottom:12px}
.bar .fill{height:100%; width:0%; background:linear-gradient(90deg,var(--accent-3),#ffd05a); border-radius:999px; transition:width .9s cubic-bezier(.2,.8,.2,1)}
.streak{display:flex;align-items:center;gap:8px;color:rgba(255,255,255,0.95)}

.progress-right{text-align:center}
.percent{font-size:28px;font-weight:800}
.sub{font-size:12px;color:rgba(255,255,255,0.95)}

/* main */
.main{display:grid; grid-template-columns:1fr; gap:18px}

/* centered subjects */
.subjects-center{ max-width:760px; margin:0 auto; padding:0 8px; }
.section-title.center{text-align:center; font-weight:700; margin-bottom:8px}

/* cards grid */
.cards-grid{display:grid; grid-template-columns:repeat(2,minmax(260px,1fr)); gap:18px; justify-items:center}
.card{background:var(--card); border-radius:12px; padding:18px; box-shadow:var(--soft-shadow); width:100%; max-width:340px; transition:transform .22s ease, box-shadow .22s ease}
.card:hover, .card:focus{transform:translateY(-6px); box-shadow:0 18px 40px rgba(16,40,85,0.08); outline:none}
.meta{display:flex; gap:12px; align-items:center}
.avatar{width:42px;height:42px;border-radius:10px;background:#eef6ff;display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--accent-2)}
.small-label{font-size:12px;font-weight:700;padding:4px 8px;border-radius:999px; display:inline-block; margin-bottom:6px}
.small-label.accent{background:#fffbe6;color:#ffb84d}
.small-label.gold{background:#fff7e6;color:#ffb84d}
.small-label.orange{background:#fff7e6;color:#ff8a5a}
.small-label.green{background:#e9fff0;color:#16a34a}
.time.muted{color:var(--muted)}

/* small progress bar */
.small-bar{height:10px;background:#eef0f6;border-radius:999px;overflow:hidden;margin-top:12px}
.small-bar .small-fill{height:100%; width:0%; background:linear-gradient(90deg,var(--accent-2),#2c6fff); border-radius:999px; transition:width .9s cubic-bezier(.2,.8,.2,1)}

/* card footer */
.card-footer{display:flex;justify-content:space-between;align-items:center;margin-top:10px}
.btn{background:var(--accent); color:#fff; padding:8px 14px; border-radius:10px; border:none; cursor:pointer; font-weight:700; box-shadow:0 6px 14px rgba(16,112,243,0.14); transition:transform .12s ease}
.btn:active{transform:translateY(1px)}
.btn.small{padding:6px 10px; font-weight:700}
.btn.big{padding:12px 20px}

/* quick actions */
.quick-section{max-width:760px;margin:10px auto;padding:0 8px}
.quick{display:grid; grid-template-columns:repeat(3,1fr); gap:14px}
.quick-card{display:flex;flex-direction:column;align-items:center;gap:8px;padding:20px;border-radius:12px;background:var(--card);box-shadow:var(--soft-shadow);cursor:pointer;transition:transform .18s ease}
.quick-card:hover{transform:translateY(-6px)}
.icon{width:44px;height:44px;border-radius:10px;display:flex;align-items:center;justify-content:center;background:#f0f6ff;font-weight:700;font-size:18px}

/* sidebar */
.sidebar{display:flex;flex-direction:column;gap:18px}
.small-card{padding:16px}
.ach-list{display:flex;flex-direction:column;gap:10px}
.ach{background:#fff7e6;padding:10px;border-radius:10px;display:flex;gap:8px;align-items:center}
.ach.gray{background:#f2f6fa}
.row{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.storage{height:10px;background:#eef0f6;border-radius:999px;overflow:hidden}
.storage-fill{height:100%; width:0%; background:linear-gradient(90deg,#2c6fff,#1e49d9); transition:width .9s cubic-bezier(.2,.8,.2,1)}

/* offline toggle */
.offline-toggle-row{display:flex;align-items:center;gap:10px;margin-top:8px}
.offline-switch{width:48px;height:26px;display:inline-block;position:relative}
.offline-switch input{display:none}
.offline-switch .knob{position:absolute; inset:3px; left:3px; width:20px; height:20px; background:#fff;border-radius:50%; box-shadow:0 6px 14px rgba(16,40,85,0.08); transition:transform .22s ease}
.offline-switch input:checked + .knob{transform:translateX(22px)}

/* cta box */
.cta-box{padding:18px;border-radius:12px;background:linear-gradient(180deg,#fff7e6,#fff3d6);text-align:center;box-shadow:var(--soft-shadow)}
.cta-title{font-size:18px;font-weight:700;margin-bottom:6px}
.muted{color:var(--muted);font-size:13px}

/* responsive */
@media (max-width:1000px){
  .container{grid-template-columns: 1fr; padding:16px}
  .cards-grid{grid-template-columns:1fr; justify-items:stretch}
  .quick{grid-template-columns:repeat(2,1fr)}
  .subjects-center{max-width:100%}
}
@media (max-width:640px){
  .quick{grid-template-columns:1fr}
  .progress-card{flex-direction:column; align-items:flex-start; gap:12px}
}
